# 基于大语言模型的聊天机器人，并没有什么秘密，也不过是通过简单的提示词进行“文本补全”的方式实现的。

from openai import OpenAI

client = OpenAI(api_key="sk-11082a2c155b45e188b61c9bc6b02a7a", base_url="https://api.deepseek.com/beta")

COMPLETION_MODEL = "deepseek-chat"

prompt = '请你用朋友的语气回复给到客户，并称他为“亲”，他的订单已经发货在路上了，预计在3天之内会送达，订单号A2025062516401122，我们很抱歉因为天气的原因物流时间比原来长，感谢他选购我们的商品。'

def get_response(prompt, temperature = 1.0, stop=None):
    completions = client.completions.create (
        model=COMPLETION_MODEL,
        prompt=prompt,
        max_tokens=1024,  # 生成的内容允许的最大 token 数量
        n=1,  # 代表你希望 AI 给你生成几条内容供你选择
        stop=stop,  # 模型输出的内容在遇到什么内容的时候就停下来，对deepseek貌似也没什么影响
        temperature=temperature,
    )
    message = completions.choices[0].text
    return message

# print(get_response(prompt))

# 每次回复的内容不一样，这是由于我们使用的一个参数 temperature。这个参数的输入范围是 0-2 之间的浮点数，代表输出结果的随机性或者说多样性。
# 在这里，我们选择了 1.0，也就是还是让每次生成的内容都有些不一样。你也可以把这个参数设置为 0，这样，每次输出的结果的随机性就会比较小。
# 我尝试将temperature设置成了0，但每次生成的结果还是有些许不同。


question = """
    Q : 鱼香肉丝怎么做？
    A : 鱼香肉丝是一道经典的川菜，以酸甜微辣的鱼香味著称。以下是家庭版鱼香肉丝的做法：

    **材料**  
    - 猪里脊肉 200克  
    - 青椒、红椒、木耳（泡发）各适量  
    - 胡萝卜半根（可选）  
    - 蒜末、姜末、葱花 各1小勺  
    - 郫县豆瓣酱 1大勺  

    **腌肉调料**  
    - 料酒 1小勺  
    - 生抽 1小勺  
    - 淀粉 1小勺  
    - 蛋清 半个（可选，让肉更嫩）  

    **鱼香汁**  
    - 醋 2小勺  
    - 白糖 2小勺  
    - 生抽 1小勺  
    - 老抽 少许（调色）  
    - 淀粉 1小勺  
    - 清水 2大勺  

    **步骤**  
    1. **准备食材**：  
       - 里脊肉切细丝，加腌肉调料抓匀腌制10分钟。  
       - 青红椒、木耳、胡萝卜切丝备用。  
       - 将鱼香汁的所有调料混合调匀。  

    2. **炒制**：  
       - 热锅冷油，下肉丝快速滑炒至变色，盛出备用。  
       - 留底油，爆香蒜末、姜末和豆瓣酱，炒出红油。  
       - 加入蔬菜丝翻炒至断生，再倒入肉丝。  

    3. **调味**：  
       - 淋入调好的鱼香汁，大火翻炒收汁。  
       - 撒葱花，出锅装盘。  

    **小贴士**  
    - 鱼香汁的糖醋比例可根据口味调整（通常1:1）。  
    - 火候要快，保持肉丝嫩滑。  
    - 正宗做法用泡椒，家庭可用豆瓣酱替代。  

    配米饭绝佳！ 😊
    Q : 那蚝油牛肉呢？
    A :
"""
print(get_response(question))





